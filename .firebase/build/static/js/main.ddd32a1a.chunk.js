(this["webpackJsonpecho-lab"]=this["webpackJsonpecho-lab"]||[]).push([[0],{101:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},204:function(e,t){},206:function(e,t){},217:function(e,t){},219:function(e,t){},246:function(e,t){},248:function(e,t){},249:function(e,t){},255:function(e,t){},257:function(e,t){},275:function(e,t){},277:function(e,t){},289:function(e,t){},292:function(e,t){},321:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(2),r=a.n(c),s=a(48),i=a.n(s),o=a(8),l=a.n(o),d=a(12),u=a(14),b=a(329),j=a(326),h=a(327),m=a(324),p=a(39),x=(a(49),a(58),{apiKey:"AIzaSyDt_SnvpcKqLH1TG9KWIHpbkNiD_MQPLm0",authDomain:"echo-labs-ffb51.firebaseapp.com",databaseURL:"https://echo-labs-ffb51.firebaseio.com",projectId:"echo-labs-ffb51",storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ECHO_API_KEY:"AIzaSyDt_SnvpcKqLH1TG9KWIHpbkNiD_MQPLm0",REACT_APP_ECHO_APP_ID:"1:378124527905:web:5d14117f5d13423bfcf660",REACT_APP_ECHO_AUTH_DOMAIN:"echo-labs-ffb51.firebaseapp.com",REACT_APP_ECHO_DATABASE_URL:"https://echo-labs-ffb51.firebaseio.com",REACT_APP_ECHO_MEASUREMENT_ID:"G-D33PWP7MM9",REACT_APP_ECHO_MESSAGIN_SENDER_ID:"378124527905",REACT_APP_ECHO_PROJECT_ID:"echo-labs-ffb51"}).REACT_REACT_APP_ECHO_STORAGE_BUCKET,messagingSenderId:"378124527905",appId:"1:378124527905:web:5d14117f5d13423bfcf660",measurementId:"G-D33PWP7MM9"}),f=p.a.initializeApp(x),O=f.auth(),v=f.firestore();var y=r.a.createContext();function g(){return Object(c.useContext)(y)}function w(e){var t=e.children,a=Object(c.useState)(),r=Object(u.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(!0),l=Object(u.a)(o,2),d=l[0],b=l[1];Object(c.useEffect)((function(){return O.onAuthStateChanged((function(e){console.log(e),i(e),b(!1),function(){var e=O.currentUser;if(e){var t=e.uid,a=e.email;if(t){var n={email:a,lastLoginTime:new Date};v.doc("/users/".concat(t)).set(n,{merge:!0})}}}()}))}),[]),console.log(d);var j={currentUser:s,signup:function(e,t){return O.createUserWithEmailAndPassword(e,t).then((function(e){console.log(e)}))},login:function(e,t){return O.signInWithEmailAndPassword(e,t)},logout:function(){return O.signOut()},resetPassword:function(e){return O.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(n.jsx)(y.Provider,{value:j,children:!d&&t})}var _=a(15),N=a(11);function k(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),r=g().signup,s=Object(c.useState)(""),i=Object(u.a)(s,2),o=i[0],p=i[1],x=Object(c.useState)(!1),f=Object(u.a)(x,2),O=f[0],v=f[1],y=Object(_.g)();function w(){return(w=Object(d.a)(l.a.mark((function n(c){var s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),console.log("in signup"),t.current.value===a.current.value){n.next=6;break}return s="Passwords do not match",console.log(s),n.abrupt("return",p(s));case 6:return n.prev=6,console.log("in try"),p(""),v(!0),n.next=12,r(e.current.value,t.current.value);case 12:y.push("/"),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(6),p("Account Creation Failed");case 18:v(!1),console.log("set false");case 20:case"end":return n.stop()}}),n,null,[[6,15]])})))).apply(this,arguments)}return document.body.style.backgroundColor="transparent",document.body.style.background="linear-gradient(120deg, rgba(0, 0, 0, 0) 30%, #7845d9 40%),url('https://www.toptal.com/designers/subtlepatterns/patterns/double-bubble-dark.png')",Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"logo",style:{position:"fixed",marginTop:"20vh",marginLeft:"8vw",padding:"10vh",maxWidth:"25vw",float:"left",color:"white"},children:[Object(n.jsxs)("div",{className:"logo-name",children:[Object(n.jsxs)("div",{className:"echo-lines",style:{float:"right"},children:[Object(n.jsx)("div",{id:"x",className:"animate__animated animate__bounceInDown"}),Object(n.jsx)("div",{id:"y",className:"animate__animated animate__bounceInDown animate__delay-1s"}),Object(n.jsx)("div",{id:"z",className:"animate__animated animate__bounceInDown animate__delay-2s"})]}),Object(n.jsx)("h1",{className:"animate__animated animate__bounceInLeft",style:{},children:"Echo"}),Object(n.jsx)("h1",{className:"animate__animated animate__jackInTheBox animate__delay-1s",style:{},children:"Labs"})]}),Object(n.jsx)("p",{className:"title",style:{},children:"Code Together"})]}),Object(n.jsx)(b.a,{id:"login-container",className:"animate__animated animate__bounceInRight",children:Object(n.jsxs)(b.a.Body,{children:[Object(n.jsx)("h2",{className:"text-center mb-4",style:{color:"white"},children:"Sign Up"}),o&&Object(n.jsxs)(j.a,{variant:"danger",style:{textAlign:"center"},children:[" ",o," "]}),Object(n.jsxs)(h.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(n.jsxs)(h.a.Group,{id:"email",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Email"}),Object(n.jsx)(h.a.Control,{style:{background:"#212121 ",color:"white"},type:"email",ref:e,required:!0})]}),Object(n.jsxs)(h.a.Group,{id:"password",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Password"}),Object(n.jsx)(h.a.Control,{style:{background:"#212121 ",color:"white"},type:"password",ref:t,required:!0})]}),Object(n.jsxs)(h.a.Group,{id:"psasword-confirm",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Confirm Password"}),Object(n.jsx)(h.a.Control,{style:{background:"#212121 ",color:"white"},type:"password",ref:a,required:!0})]}),Object(n.jsx)(m.a,{style:{fontSize:"1.4rem"},disabled:O,className:"w-100",type:"submit",children:"Sign Up"})]}),Object(n.jsx)("div",{className:"w-100 text-center mt-3",children:Object(n.jsx)(N.b,{className:"items",to:"/forgot-password",children:"Forgot password?"})}),Object(n.jsxs)("div",{className:"w-100 text-center mt-2",style:{color:"white"},children:["Already have an Account? ",Object(n.jsx)(N.b,{className:"items",to:"/login",children:" Log in "})]})]})})]})}var C=a(325),E=(a(188),"");function P(){return(P=Object(d.a)(l.a.mark((function e(){var t,a,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.currentUser,a=t.uid,!t){e.next=11;break}if(!a){e.next=11;break}return e.next=6,v.doc("users/".concat(a)).get();case 6:n=e.sent,c=n.data(),r=c.Admin,console.log("is admin? ",r),1==r?(E=!0,console.log("user is admin")):(E=!1,console.log("User is not an admin"));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return function(){P.apply(this,arguments)}(),E}a(101);function D(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=(t[0],t[1]),r=g(),s=(r.currentUser,r.logout),i=Object(_.g)();function o(){return(o=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,s();case 4:i.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to logout");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}document.body.style.background="#1c1f3e";var j=R();return console.log(j,"in dash"),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{id:"dash-container",className:"animate__animated animate__bounceInRight",style:{borderRadius:"8px",width:"65vw",maxWidth:"80vw",height:"80vh",backgroundColor:"#383f75",position:"relative",top:"10vh",left:"24%",boxShadow:"15px -10px 10px -6px #00FFEF"},children:[Object(n.jsxs)("div",{className:"dash-nav",style:{position:"relative",left:"20px",width:"20vw",height:"100%",backgroundColor:"#2a315d"},children:["a",Object(n.jsxs)("div",{className:"dash-logo",style:{position:"relative",top:"5vh",width:"10vw",height:"30vh",margin:"0 auto",color:"white"},children:[Object(n.jsxs)("div",{className:"dash-echo-lines",children:[Object(n.jsx)("div",{id:"dash-x",className:"animate__animated animate__bounceInDown"}),Object(n.jsx)("div",{id:"dash-y",className:"animate__animated animate__bounceInDown animate__delay-1s"}),Object(n.jsx)("div",{id:"dash-z",className:"animate__animated animate__bounceInDown animate__delay-2s"})]}),Object(n.jsx)("div",{className:"circle",children:Object(n.jsx)("i",{className:"fas fa-user-secret fa-3x center"})})]}),Object(n.jsx)("div",{id:"userType",className:"w-100 text-center mt-2",children:Object(n.jsx)("h2",{className:"Button-text",children:j?"Admin":"Student"})}),Object(n.jsx)("div",{id:"logoutButton",className:"w-100 text-center mt-2",children:Object(n.jsx)(m.a,{variant:"info",onClick:function(){return o.apply(this,arguments)},children:Object(n.jsx)("h2",{className:"Button-text",children:" Logout"})})})]}),Object(n.jsxs)("div",{id:"dash-card-container",children:[Object(n.jsxs)("div",{id:"row",children:[Object(n.jsx)(b.a,{id:"lab-card-style-1",style:{backgroundColor:"#7845d9"},children:Object(n.jsx)(N.b,{to:"/user-lab-rooms",className:"lab-links",style:{textDecoration:"none"},children:Object(n.jsx)(b.a.Body,{children:Object(n.jsx)("h2",{className:"dash-cards-h2",children:" Lab Rooms"})})})}),Object(n.jsx)(b.a,{id:"lab-card-style-1",style:{backgroundColor:"#7fb1ca"},children:Object(n.jsx)(N.b,{to:"/join",className:"lab-links",style:{textDecoration:"none"},children:Object(n.jsx)(b.a.Body,{children:Object(n.jsx)("h2",{className:"dash-cards-h2",children:" Join "})})})}),Object(n.jsx)(b.a,{id:"lab-card-style-1",style:{backgroundColor:"#5c7fd3"},children:Object(n.jsx)(N.b,{to:"/test",className:"lab-links",style:{textDecoration:"none"},children:Object(n.jsx)(b.a.Body,{children:Object(n.jsx)("h2",{className:"dash-cards-h2",children:" Stats"})})})}),Object(n.jsx)(b.a,{id:"lab-card-style-1",style:{backgroundColor:"#6293ba"},children:Object(n.jsx)(N.b,{to:"/update-profile",className:"lab-links",style:{textDecoration:"none"},children:Object(n.jsx)(b.a.Body,{children:Object(n.jsx)("h2",{className:"dash-cards-h2",children:" Profile"})})})})]}),Object(n.jsxs)("p",{id:"type-line",className:"animate-type",style:{color:"white"},children:["< ","User: ",O.currentUser.email," ","/>"," "]})]})]})})}a(189);function L(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=g().login,r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],o=s[1],p=Object(c.useState)(!1),x=Object(u.a)(p,2),f=x[0],O=x[1],v=Object(_.g)();function y(){return(y=Object(d.a)(l.a.mark((function n(c){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,o(""),O(!0),n.next=6,a(e.current.value,t.current.value);case 6:v.push("/dashboard"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),o("Login Failed");case 12:O(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return document.body.style.backgroundColor="transparent",document.body.style.background="linear-gradient(120deg, rgba(0, 0, 0, 0) 30%, #7845d9 40%),url('https://www.toptal.com/designers/subtlepatterns/patterns/double-bubble-dark.png')",Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"logo",style:{position:"fixed",marginTop:"20vh",marginLeft:"8vw",padding:"10vh",maxWidth:"25vw",float:"left",color:"white"},children:[Object(n.jsxs)("div",{className:"logo-name",children:[Object(n.jsxs)("div",{className:"echo-lines",style:{float:"right"},children:[Object(n.jsx)("div",{id:"x",className:"animate__animated animate__bounceInDown"}),Object(n.jsx)("div",{id:"y",className:"animate__animated animate__bounceInDown animate__delay-1s"}),Object(n.jsx)("div",{id:"z",className:"animate__animated animate__bounceInDown animate__delay-2s"})]}),Object(n.jsx)("h1",{className:"animate__animated animate__bounceInLeft",style:{},children:"Echo"}),Object(n.jsx)("h1",{className:"animate__animated animate__jackInTheBox animate__delay-1s",style:{},children:"Labs"})]}),Object(n.jsx)("p",{className:"title",style:{},children:"Code Together"})]}),Object(n.jsx)(b.a,{id:"login-container",className:"animate__animated animate__bounceInRight",children:Object(n.jsxs)(b.a.Body,{children:[Object(n.jsx)("h2",{className:"text-center mb-4",style:{color:"white"},children:"Sign In"}),i&&Object(n.jsxs)(j.a,{variant:"danger",style:{textAlign:"center"},children:[" ",i," "]}),Object(n.jsxs)(h.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(n.jsxs)(h.a.Group,{id:"email",children:[Object(n.jsx)(h.a.Label,{className:"head",style:{},children:"Email"}),Object(n.jsx)(h.a.Control,{style:{background:"#212121 ",color:"white",padding:"20px"},type:"email",ref:e,required:!0})]}),Object(n.jsxs)(h.a.Group,{id:"password",style:{paddingBottom:"10px"},children:[Object(n.jsx)(h.a.Label,{className:"head",children:"Password"}),Object(n.jsx)(h.a.Control,{style:{background:"#212121 ",color:"white",padding:"20px"},type:"password",ref:t,required:!0})]}),Object(n.jsx)(m.a,{disabled:f,className:"w-100",type:"submit",style:{fontSize:"1.4rem"},children:"Log In"})]}),Object(n.jsx)("div",{className:"w-100 text-center mt-3",children:Object(n.jsx)(N.b,{className:"items",to:"/forgot-password",children:"Forgot password?"})}),Object(n.jsxs)("div",{className:"w-100 text-center mt-2",style:{color:"white",paddingTop:"2px"},children:["Need an account? ",Object(n.jsx)(N.b,{className:"items",to:"/signup",children:"Sign Up"})]})]})})]})}function S(){var e=Object(c.useRef)(),t=g().resetPassword,a=Object(c.useState)(""),r=Object(u.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(!1),p=Object(u.a)(o,2),x=p[0],f=p[1],O=Object(c.useState)(""),v=Object(u.a)(O,2),y=v[0],w=v[1];function _(){return(_=Object(d.a)(l.a.mark((function a(n){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,w(""),i(""),f(!0),a.next=7,t(e.current.value);case 7:w("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),i("Failed to reset password");case 13:f(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return document.body.style.backgroundColor="transparent",document.body.style.background="linear-gradient(120deg, rgba(0, 0, 0, 0) 30%, #7845d9 40%),url('https://www.toptal.com/designers/subtlepatterns/patterns/double-bubble-dark.png')",Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"logo",style:{position:"fixed",marginTop:"20vh",marginLeft:"8vw",padding:"10vh",maxWidth:"25vw",float:"left",color:"white"},children:[Object(n.jsxs)("div",{className:"logo-name",children:[Object(n.jsxs)("div",{className:"echo-lines",style:{float:"right"},children:[Object(n.jsx)("div",{id:"x",className:"animate__animated animate__bounceInDown"}),Object(n.jsx)("div",{id:"y",className:"animate__animated animate__bounceInDown animate__delay-1s"}),Object(n.jsx)("div",{id:"z",className:"animate__animated animate__bounceInDown animate__delay-2s"})]}),Object(n.jsx)("h1",{className:"animate__animated animate__bounceInLeft",style:{},children:"Echo"}),Object(n.jsx)("h1",{className:"animate__animated animate__jackInTheBox animate__delay-1s",style:{},children:"Labs"})]}),Object(n.jsx)("p",{className:"title",style:{},children:"Code Together"})]}),Object(n.jsx)(b.a,{id:"login-container",className:"animate__animated animate__bounceInRight",children:Object(n.jsxs)(b.a.Body,{children:[Object(n.jsx)("h2",{className:"text-center mb-4",style:{color:"white"},children:"Password Reset"}),s&&Object(n.jsxs)(j.a,{variant:"danger",style:{textAlign:"center"},children:[" ",s," "]}),y&&Object(n.jsxs)(j.a,{variant:"success",style:{textAlign:"center"},children:[" ",s," "]}),Object(n.jsxs)(h.a,{onSubmit:function(e){return _.apply(this,arguments)},children:[Object(n.jsxs)(h.a.Group,{id:"email",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Email"}),Object(n.jsx)(h.a.Control,{type:"email",ref:e,required:!0})]}),Object(n.jsx)(m.a,{disabled:x,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(n.jsxs)("div",{className:"w-100 text-center mt-2",style:{color:"white"},children:["Back to ",Object(n.jsx)(N.b,{className:"items",to:"/login",children:" Log in? "})]})]})})]})}var I=a(69),A=a(174);function T(e){var t=e.component,a=Object(A.a)(e,["component"]),c=g().currentUser;return Object(n.jsx)(_.b,Object(I.a)(Object(I.a)({},a),{},{render:function(e){return c?Object(n.jsx)(t,Object(I.a)({},e)):Object(n.jsx)(_.a,{to:"/login"})}}))}function B(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),r=g(),s=r.currentUser,i=r.updatePassword,o=r.updateEmail,l=Object(c.useState)(""),d=Object(u.a)(l,2),p=d[0],x=d[1],f=Object(c.useState)(!1),O=Object(u.a)(f,2),v=O[0],y=O[1],w=Object(_.g)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(b.a,{id:"userinput-container",children:Object(n.jsxs)(b.a.Body,{children:[Object(n.jsx)("h2",{className:"text-center mb-4",style:{color:"white"},children:"Update Profile"}),p&&Object(n.jsxs)(j.a,{variant:"danger",style:{textAlign:"center"},children:[" ",p," "]}),Object(n.jsxs)(h.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==a.current.value){var c="Passwords do not match";return console.log(c),x(c)}var r=[];y(!0),x(""),e.current.value!==s.email&&r.push(o(e.current.value)),t.current.value&&r.push(i(t.current.value)),Promise.all(r).then((function(){w.push("/")})).catch((function(){x("Failed to update account")})).finally((function(){y(!1)}))},children:[Object(n.jsxs)(h.a.Group,{id:"email",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Email"}),Object(n.jsx)(h.a.Control,{type:"email",ref:e,required:!0,defaultValue:s.email})]}),Object(n.jsxs)(h.a.Group,{id:"password",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Password"}),Object(n.jsx)(h.a.Control,{type:"password",ref:t,placeholder:"Leave blank if unchanged"})]}),Object(n.jsxs)(h.a.Group,{id:"psasword-confirm",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Confirm Password"}),Object(n.jsx)(h.a.Control,{type:"password",ref:a})]}),Object(n.jsx)(m.a,{disabled:v,className:"w-100",type:"submit",children:"Update Profile"})]}),Object(n.jsx)("div",{className:"w-100 text-center mt-2",children:Object(n.jsx)(N.b,{to:"/dashboard",style:{color:"white"},children:" Back to Dashboard "})})]})})})}var U=a(169),F=a(170),G=a(175),H=a(173),K=a(171),W=a.n(K),M=function(e){Object(G.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).state={rArray:""},n}return Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.currentUser.uid,a=[],!t){e.next=15;break}return console.log("getting labroom List for user: "+t),e.next=6,v.doc("users/".concat(t)).get();case 6:return n=e.sent,c=n.data(),c.labs.forEach((function(e){var t=v.doc("labs/".concat(e)).get();a.push(t)})),e.next=12,Promise.all(a);case 12:r=e.sent,s=r.map((function(e){return e.data()})),this.setState({rArray:s});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.rArray;return Object(n.jsx)("div",{id:"row",class:"lab-row",children:Array.from(e,(function(e){return Object(n.jsx)(b.a,{id:"lab-card-style-2",children:Object(n.jsx)(N.b,{to:"/test",className:"lab-links",style:{textDecoration:"none"},children:Object(n.jsx)(b.a.Body,{children:Object(n.jsx)("h2",{className:"dash-cards-h2",children:e.Lab_Name})})})},W.a.generate())}))})}}]),a}(r.a.Component);function q(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=(t[0],t[1]),r=g(),s=(r.currentUser,r.logout),i=Object(_.g)();function o(){return(o=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,s();case 4:i.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to logout");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}document.body.style.backgroundColor="#1c1f3e";var b=R();return console.log(b,"userlabrooms"),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{id:"dash-container",className:"animate__animated animate__bounceInRight",style:{borderRadius:"8px",width:"65vw",maxWidth:"80vw",height:"80vh",backgroundColor:"#383f75",position:"relative",top:"10vh",left:"25%",boxShadow:"15px -10px 10px -6px #00FFEF"},children:[Object(n.jsxs)("div",{className:"dash-nav",style:{position:"relative",left:"20px",width:"20vw",height:"100%",backgroundColor:"#2a315d"},children:[Object(n.jsxs)("div",{className:"dash-logo",style:{position:"relative",top:"5vh",width:"10vw",height:"30vh",margin:"0 auto",color:"white"},children:[Object(n.jsxs)("div",{className:"dash-echo-lines",children:[Object(n.jsx)("div",{id:"dash-x",className:"animate__animated animate__bounceInDown"}),Object(n.jsx)("div",{id:"dash-y",className:"animate__animated animate__bounceInDown animate__delay-1s"}),Object(n.jsx)("div",{id:"dash-z",className:"animate__animated animate__bounceInDown animate__delay-2s"})]}),Object(n.jsx)("div",{className:"circle",children:Object(n.jsx)("i",{className:"fas fa-user-secret fa-3x center"})})]}),Object(n.jsx)("div",{className:"w-100 text-center mt-2",style:{position:"relative",height:"45vh"},children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)(N.b,{to:"/dashboard",style:{},children:Object(n.jsx)(m.a,{variant:"link",children:Object(n.jsx)("h2",{className:"Button-text-1",children:" Dashboard"})})}),b?Object(n.jsx)(N.b,{to:"CreateLabRoom",style:{display:"block"},children:Object(n.jsx)(m.a,{variant:"link",children:Object(n.jsx)("h2",{className:"Button-text-1",children:" Create Lab Room "})})}):Object(n.jsx)(N.b,{to:"CreateLabRoom",style:{display:"none"},children:Object(n.jsx)(m.a,{variant:"link",children:Object(n.jsx)("h2",{className:"Button-text-1",children:" Create Lab Room "})})}),Object(n.jsx)(m.a,{variant:"link",onClick:function(){return o.apply(this,arguments)},children:Object(n.jsx)("h2",{className:"Button-text-1",children:" Logout"})})]})})]}),Object(n.jsxs)("div",{id:"dash-card-container",children:[Object(n.jsx)("h2",{className:"h2-heading",children:"Lab Rooms "}),Object(n.jsx)(M,{})]})]})})}function z(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),r=t[0],s=t[1],i=Object(c.useState)(""),o=Object(u.a)(i,2),j=o[0],x=o[1];function f(){return(f=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),document.getElementById("generated-text").style.display="block",y();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(198),n=t.generate({length:10,numbers:!0}),c=t.generate({length:10,numbers:!0}),s(n),x(c),w(n,c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(l.a.mark((function e(t,a){var n,c,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("labroom-name").value,c=v.collection("labs"),e.next=4,c.where("Lab_Name","==",n).get();case 4:r=e.sent,s=O.currentUser,i=s.email,r.empty?(console.log("collection doesn't contain lab: "+n),v.collection("labs").add({Lab_Name:document.getElementById("labroom-name").value,Lab_Key_Student:t,Lab_Key_Admin:a,Host_email:i}),k(i)):console.log("collection contains lab"+n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementById("labroom-name").value,n=v.collection("labs"),e.next=4,n.where("Lab_Name","==",a).get();case 4:(c=e.sent)&&c.forEach((function(e){E(t,e.id)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(l.a.mark((function e(t,a){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.collection("users"),e.next=3,n.where("email","==",t).get();case 3:if(!(c=e.sent).empty){e.next=7;break}return console.log("No email found within user collection"),e.abrupt("return");case 7:c.forEach((function(e){v.collection("users").doc(e.id).update({labs:p.a.firestore.FieldValue.arrayUnion(a)})}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(b.a,{id:"userinput-container",children:Object(n.jsxs)(b.a.Body,{children:[Object(n.jsx)("h2",{className:"text-center mb-4",style:{color:"white"},children:"Create a Lab Room"}),Object(n.jsxs)(h.a,{id:"create-form",children:[Object(n.jsxs)(h.a.Group,{id:"lab-name",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"New Lab Room Name"}),Object(n.jsx)(h.a.Control,{type:"text",id:"labroom-name",required:!0})]}),Object(n.jsx)(m.a,{className:"w-100",onClick:function(e){return f.apply(this,arguments)},children:"Create Room & Generate Password"})]}),Object(n.jsx)("div",{className:"w-100 text-center mt-2",children:Object(n.jsx)(N.b,{style:{color:"white"},to:"/user-lab-rooms",children:" Back to Labrooms"})}),Object(n.jsxs)("div",{id:"generated-text",style:{color:"white"},children:[Object(n.jsx)("p",{children:"Student Generated Password:"}),Object(n.jsx)("p",{style:{color:"blue"},children:r}),Object(n.jsx)("p",{children:"Admin Generated Password:"}),Object(n.jsx)("p",{style:{color:"blue"},children:j}),"Please copy and share the above password in order for students/admins to join the labroom."]})]})})})}function V(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(l.a.mark((function e(t){var a,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.collection("users"),n=O.currentUser,c=n.email,e.next=5,a.where("email","==",c).get();case 5:if(!(r=e.sent).empty){e.next=9;break}return console.log("No email found within user collection"),e.abrupt("return");case 9:r.forEach((function(e){v.collection("users").doc(e.id).update({labs:p.a.firestore.FieldValue.arrayUnion(t)})}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(l.a.mark((function t(){var a,n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=v.collection("labs"),n=document.getElementById("labcode-input").value,console.log(n),t.next=5,a.where("Lab_Key_Admin","==",n).get();case 5:if(!(c=t.sent).empty){t.next=10;break}return console.log("Password incorrect - admin"),r(a,n),t.abrupt("return");case 10:console.log("password correct"),c.forEach((function(t){console.log(t.id,"=>",t.data()),a.doc(t.id).update({Lab_Admins:p.a.firestore.FieldValue.arrayUnion(O.currentUser.email)}),e(t.id)}));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(e,t){return s.apply(this,arguments)}function s(){return(s=Object(d.a)(l.a.mark((function t(a,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.where("Lab_Key_Student","==",n).get();case 2:if(!(c=t.sent).empty){t.next=6;break}return console.log("Password incorrect - student"),t.abrupt("return");case 6:console.log("password correct"),c.forEach((function(t){console.log(t.id,"=>",t.data()),v.collection("labs").doc(t.id).update({Lab_Students:p.a.firestore.FieldValue.arrayUnion(O.currentUser.email)}),e(t.id)}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsx)(b.a,{id:"userinput-container",children:Object(n.jsxs)(b.a.Body,{children:[Object(n.jsx)("h2",{className:"text-center mb-4",style:{color:"white"},children:"Join A Lab"}),Object(n.jsxs)(h.a,{id:"create-form",children:[Object(n.jsxs)(h.a.Group,{id:"lab-name",children:[Object(n.jsx)(h.a.Label,{style:{color:"white"},children:"Please enter Lab room code"}),Object(n.jsx)(h.a.Control,{type:"text",id:"labcode-input",required:!0})]}),Object(n.jsx)(m.a,{className:"w-100",onClick:function(e){return i.apply(this,arguments)},children:"Join Room"})]}),Object(n.jsx)("div",{className:"w-100 text-center mt-2",children:Object(n.jsx)(N.b,{style:{color:"white"},to:"/dashboard",children:" Back to Dashboard"})})]})})}var J=a(172),Q=a.n(J),Y=function(e){var t=Object(c.useRef)(),a=Object(c.useRef)(),r=Object(c.useRef)(),s=Object(c.useRef)(),i=Object(c.useRef)(),o=Object(c.useRef)();function l(e){r.current=d(e),o.current.getTracks().forEach((function(e){return r.current.addTrack(e,o.current)}))}function d(e){var t=new RTCPeerConnection({iceServers:[{urls:"stun:stun.stunprotocol.org"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}]});return t.onicecandidate=j,t.ontrack=m,t.onnegotiationneeded=function(){return function(e){r.current.createOffer().then((function(e){return r.current.setLocalDescription(e)})).then((function(){var t={target:e,caller:s.current.id,sdp:r.current.localDescription};s.current.emit("offer",t)})).catch((function(e){return console.log(e)}))}(e)},t}function u(e){r.current=d();var t=new RTCSessionDescription(e.sdp);r.current.setRemoteDescription(t).then((function(){o.current.getTracks().forEach((function(e){return r.current.addTrack(e,o.current)}))})).then((function(){return r.current.createAnswer()})).then((function(e){return r.current.setLocalDescription(e)})).then((function(){var t={target:e.caller,caller:s.current.id,sdp:r.current.localDescription};s.current.emit("answer",t)}))}function b(e){var t=new RTCSessionDescription(e.sdp);r.current.setRemoteDescription(t).catch((function(e){return console.log(e)}))}function j(e){if(e.candidate){var t={target:i.current,candidate:e.candidate};s.current.emit("ice-candidate",t)}}function h(e){var t=new RTCIceCandidate(e);r.current.addIceCandidate(t).catch((function(e){return console.log(e)}))}function m(e){a.current.srcObject=e.streams[0]}return Object(c.useEffect)((function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(a){t.current.srcObject=a,o.current=a,s.current=Q.a.connect("/"),s.current.emit("join room",e.match.params.roomID),s.current.on("other user",(function(e){l(e),i.current=e})),s.current.on("user joined",(function(e){i.current=e})),s.current.on("offer",u),s.current.on("answer",b),s.current.on("ice-candidate",h)}))}),[u,l,e.match.params.roomID]),Object(n.jsxs)("div",{children:[Object(n.jsx)("video",{id:"userVid",autoPlay:!0,ref:t}),Object(n.jsx)("video",{id:"partnerVid",autoPlay:!0,ref:a})]})},X=a(328);function Z(){var e=Object(_.g)();return Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){var t=Object(X.a)();e.push("/room/".concat(t))},children:"Create Room"})})}var $=function(){return Object(n.jsx)(C.a,{children:Object(n.jsx)(N.a,{children:Object(n.jsx)(w,{children:Object(n.jsxs)(_.d,{children:[Object(n.jsx)(T,{exact:!0,path:"/dashboard",component:D}),Object(n.jsx)(T,{exact:!0,path:"/update-profile",component:B}),Object(n.jsx)(T,{exact:!0,path:"/user-lab-rooms",component:q}),Object(n.jsx)(T,{exact:!0,path:"/createLabRoom",component:z}),Object(n.jsx)(T,{exact:!0,path:"/join",component:V}),Object(n.jsx)(_.b,{path:"/signup",component:k}),Object(n.jsx)(_.b,{path:"/login",component:L}),Object(n.jsx)(_.b,{path:"/forgot-password",component:S}),Object(n.jsx)(_.b,{path:"/create-room",component:Z}),Object(n.jsx)(_.b,{path:"/room/:roomID",component:Y})]})})})})};a(320);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)($,{})}),document.getElementById("root"))}},[[321,1,2]]]);
//# sourceMappingURL=main.ddd32a1a.chunk.js.map